{
	"name": "obojobo-express",
	"license": "AGPL-3.0-only",
	"version": "3.4.0",
	"private": true,
	"scripts": {
		"build": "webpack",
		"start:server": "pm2 start pm2_prod.yaml",
		"db:initdocker": "docker run --name db_postgres -d --restart=unless-stopped -p 5432:5432 postgres:9.6.1-alpine",
		"db:reset": "node_modules/.bin/db-migrate reset --config config/db.json",
		"db:migrateup": "node_modules/.bin/db-migrate up --config config/db.json",
		"db:migratedown": "node_modules/.bin/db-migrate down --config config/db.json",
		"db:createmigration": "node_modules/.bin/db-migrate create --config config/db.json",
		"db:remove": "(docker kill db_postgres || true) && (docker rm db_postgres || true)",
		"db:rebuild": "yarn db:remove && yarn db:initdocker && sleep 4 && yarn db:migrateup && yarn sampleDraft:seed",
		"dev": "rm -rf public/compiled && DEBUG=obojobo_server:error,obojobo_server:warn,obojobo_server:info IS_WEBPACK=true nodemon ./node_modules/.bin/webpack-dev-server",
		"sampleDraft:seed": "node ./bin/sample_draft.js seed",
		"sampleDraft:watch": "node ./bin/sample_draft.js watch",
		"test": "TZ='America/New_York' jest",
		"test:ci": "TZ='America/New_York' CI=true jest --ci --coverage --coverageReporters text-summary cobertura",
		"lint": "yarn lint:js && yarn lint:css",
		"lint:js": "eslint .",
		"lint:css": "stylelint **/*.scss",
		"precommit": "lint-staged && yarn test:ci",
		"prettier:run": "prettier --write '{__{tests,mocks}__,bin,config,migrations,models,routes,viewer,views}/**/*.{js,scss}'",
		"prettier:debug": "prettier -l '{__{tests,mocks}__,bin,config,migrations,models,routes,viewer,views}/**/*.{js,scss}'"
	},
	"engines": {
		"yarn": "^1.0",
		"node": "^10.4.1"
	},
	"lint-staged": {
		"{__{tests,mocks}__,bin,config,migrations,models,routes,viewer,views}/**/*.{js,scss}": [
			"yarn prettier:run",
			"eslint",
			"stylelint",
			"git add"
		]
	},
	"prettier": {
		"printWidth": 100,
		"semi": false,
		"useTabs": true,
		"singleQuote": true
	},
	"dependencies": {
		"@babel/core": "^7.0.0-0",
		"@babel/polyfill": "7.0.0",
		"@babel/preset-env": "^7.2.0",
		"@babel/preset-react": "^7.0.0",
		"babel-core": "^7.0.0-bridge",
		"babel-eslint": "^8.2.3",
		"babel-jest": "^23.6.0",
		"babel-loader": "^8.0.4",
		"babel-polyfill": "^6.26.0",
		"body-parser": "^1.17.1",
		"caliper-js-public": "https://github.com/IMSGlobal/caliper-js-public.git#v1.0.0",
		"compression": "^1.6.2",
		"connect-pg-simple": "^3.1.2",
		"db-migrate": "^0.10.0-beta.20",
		"db-migrate-pg": "^0.1.11",
		"debug": "~2.2.0",
		"debug-logger": "^0.4.1",
		"ejs": "^2.5.7",
		"eventemitter": "^0.3.3",
		"express": "~4.14.0",
		"express-ims-lti": "https://github.com/ucfcdl/express-ims-lti.git#20e4f025cf498b31bd21a981fe1af0707d2028b5",
		"express-session": "^1.15.1",
		"express-validator": "^5.2.0",
		"file-type": "^10.5.0",
		"glob": "^7.1.1",
		"is-svg": "^3.0.0",
		"json-inflector": "^1.1.0",
		"moment": "^2.18.0",
		"morgan": "~1.7.0",
		"multer": "^1.4.1",
		"obojobo-lib-utils": "1.0.0",
		"pg-promise": "^5.5.0",
		"react-transition-group": "^2.5.3",
		"serve-favicon": "~2.3.0",
		"sharp": "0.21.0",
		"supertest": "^3.1.0",
		"url": "^0.11.0",
		"webpack": "^4.12.0",
		"webpack-cli": "^3.0.8",
		"webpack-dev-server": "^3.1.4"
	},
	"devDependencies": {
		"eslint": "^4.19.1",
		"jest": "23.4.2",
		"lint-staged": "^6.1.1",
		"prettier": "1.11.1",
		"stylelint": "^9.4.0",
		"stylelint-config-standard": "^18.2.0",
		"stylelint-declaration-use-variable": "^1.7.0",
		"supertest": "^3.1.0"
	},
	"jest": {
		"setupTestFrameworkScriptFile": "./setup_tests.js",
		"collectCoverageFrom": [
			"*.js",
			"models/**/*.js",
			"routes/**/*.js",
			"routes/**/*.js",
			"controllers/**/*.js",
			"viewer/**/*.js"
		],
		"coveragePathIgnorePatterns": [
			"<rootDir>/node_modules",
			"<rootDir>/app.js",
			"<rootDir>/webpack.config.js",
			"<rootDir>/dev_nonce_store.js",
			"<rootDir>/setup_tests.js"
		],
		"coverageReporters": [
			"text",
			"lcov"
		],
		"testPathIgnorePatterns": [],
		"modulePathIgnorePatterns": [],
		"coverageThreshold": {
			"global": {
				"branches": 100,
				"functions": 100,
				"lines": 100,
				"statements": 100
			}
		}
	},
	"nodemonConfig": {
		"ext": "js ejs",
		"watch": [
			"./",
			"../obojobo-document-engine/server"
		]
	}
}
