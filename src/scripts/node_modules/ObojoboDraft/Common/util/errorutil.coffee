Dispatcher = require 'ObojoboDraft/Common/flux/dispatcher'
ErrorDialog = require 'ObojoboDraft/Common/components/modal/errordialog'

ErrorUtil =
	show: (title, errorMessage) ->
		Dispatcher.trigger 'modal:show',
			value:
				component: `<ErrorDialog title={title}>{errorMessage}</ErrorDialog>`

	errorResponse: (res) ->
		title = switch res.value.type
			when 'input' then 'Bad Input'
			when 'unexpected' then 'Unexpected Error'
			when 'reject' then 'Rejected'

		ErrorUtil.show title, res.value.message


module.exports = ErrorUtil