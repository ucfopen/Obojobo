ObojoboDraft = window.ObojoboDraft

OBO.register 'ObojoboDraft.Chunks.Heading', {
	type: 'chunk',
	adapter: require('./adapter'),
	componentClass: require('./viewer-component'),
	selectionHandler: new ObojoboDraft.Common.chunk.textChunk.TextGroupSelectionHandler(),
	getNavItem: (model) ->
		switch model.modelState.headingLevel
			# when 1
			# 	type: 'link',
			# 	label: model.modelState.textGroup.first.text.value,
			# 	path: [model.modelState.textGroup.first.text.value.toLowerCase().replace(/ /g, '-')],
			# 	showChildren: false

			when 1, 2
				if model.modelState.headingLevel is 1 and model.getIndex() is 0 then return null

				type: 'sub-link',
				label: model.modelState.textGroup.first.text,
				path: [model.toText().toLowerCase().replace(/ /g, '-')],
				showChildren: false

			else
				null
}